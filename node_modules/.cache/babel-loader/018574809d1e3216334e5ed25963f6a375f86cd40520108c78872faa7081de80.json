{"ast":null,"code":"import client, { gql } from '../../../utils/apolloClient.js';\nexport const GET_PRODUCTS = gql`\n  query GetProducts($filter: productfilter) {\n  products(filter: $filter) {\n    productImage {\n      productId\n      image\n      id\n    }\n    wishList {\n      like\n    }\n    views\n    viewPrice\n    tax\n    specification\n    shopId\n    seoKeyword\n    quantity {\n      quantity\n    }\n    publish\n    productId\n    productCategoryId\n    prize\n    otherInformation\n    offerends\n    number\n    noStock\n    name\n    minStock\n    mastercategory\n    localName\n    lastUpdate\n    isOnline\n    isAddedToCart {\n      inCart\n    }\n    id\n    hsnCode\n    howToUse\n    featureImage\n    dnp\n    discount\n    description\n    categoryId\n    category\n    barcode\n    addedon\n  }\n}\n`;\nexport const fetchProducts = async ({\n  shopId = null,\n  productId = null\n}) => {\n  const variables = {\n    filter: {}\n  };\n  if (productId) {\n    variables.filter.productId = Number(productId);\n  } else if (shopId) {\n    variables.filter.shopId = Number(shopId);\n  } else {\n    console.error('Either shopId or productId must be provided');\n    return [];\n  }\n  try {\n    const response = await client.query({\n      query: GET_PRODUCTS,\n      variables\n    });\n    return productId ? response?.data?.products?.[0] : response?.data?.products ?? [];\n  } catch (error) {\n    console.error('Failed to fetch products:', error.message || error);\n    return productId ? null : [];\n  }\n};","map":{"version":3,"names":["client","gql","GET_PRODUCTS","fetchProducts","shopId","productId","variables","filter","Number","console","error","response","query","data","products","message"],"sources":["C:/Users/varsh/OneDrive/Desktop/t11/t11/node_modules/shops-query/src/modules/products/queries/get.js"],"sourcesContent":["import client, { gql } from '../../../utils/apolloClient.js';\n\nexport const GET_PRODUCTS = gql`\n  query GetProducts($filter: productfilter) {\n  products(filter: $filter) {\n    productImage {\n      productId\n      image\n      id\n    }\n    wishList {\n      like\n    }\n    views\n    viewPrice\n    tax\n    specification\n    shopId\n    seoKeyword\n    quantity {\n      quantity\n    }\n    publish\n    productId\n    productCategoryId\n    prize\n    otherInformation\n    offerends\n    number\n    noStock\n    name\n    minStock\n    mastercategory\n    localName\n    lastUpdate\n    isOnline\n    isAddedToCart {\n      inCart\n    }\n    id\n    hsnCode\n    howToUse\n    featureImage\n    dnp\n    discount\n    description\n    categoryId\n    category\n    barcode\n    addedon\n  }\n}\n`;\n\nexport const fetchProducts = async ({ shopId = null, productId = null }) => {\n  const variables = {\n    filter: {}\n  };\n\n  if (productId) {\n    variables.filter.productId = Number(productId);\n  } else if (shopId) {\n    variables.filter.shopId = Number(shopId);\n  } else {\n    console.error('Either shopId or productId must be provided');\n    return [];\n  }\n\n  try {\n    const response = await client.query({\n      query: GET_PRODUCTS,\n      variables,\n    });\n\n    return productId ? response?.data?.products?.[0] : response?.data?.products ?? [];\n  } catch (error) {\n    console.error('Failed to fetch products:', error.message || error);\n    return productId ? null : [];\n  }\n};"],"mappings":"AAAA,OAAOA,MAAM,IAAIC,GAAG,QAAQ,gCAAgC;AAE5D,OAAO,MAAMC,YAAY,GAAGD,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,OAAO,MAAME,aAAa,GAAG,MAAAA,CAAO;EAAEC,MAAM,GAAG,IAAI;EAAEC,SAAS,GAAG;AAAK,CAAC,KAAK;EAC1E,MAAMC,SAAS,GAAG;IAChBC,MAAM,EAAE,CAAC;EACX,CAAC;EAED,IAAIF,SAAS,EAAE;IACbC,SAAS,CAACC,MAAM,CAACF,SAAS,GAAGG,MAAM,CAACH,SAAS,CAAC;EAChD,CAAC,MAAM,IAAID,MAAM,EAAE;IACjBE,SAAS,CAACC,MAAM,CAACH,MAAM,GAAGI,MAAM,CAACJ,MAAM,CAAC;EAC1C,CAAC,MAAM;IACLK,OAAO,CAACC,KAAK,CAAC,6CAA6C,CAAC;IAC5D,OAAO,EAAE;EACX;EAEA,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMX,MAAM,CAACY,KAAK,CAAC;MAClCA,KAAK,EAAEV,YAAY;MACnBI;IACF,CAAC,CAAC;IAEF,OAAOD,SAAS,GAAGM,QAAQ,EAAEE,IAAI,EAAEC,QAAQ,GAAG,CAAC,CAAC,GAAGH,QAAQ,EAAEE,IAAI,EAAEC,QAAQ,IAAI,EAAE;EACnF,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAACK,OAAO,IAAIL,KAAK,CAAC;IAClE,OAAOL,SAAS,GAAG,IAAI,GAAG,EAAE;EAC9B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}