{"ast":null,"code":"import client, { gql } from '../../../utils/apolloClient.js';\nexport const ADD_TO_CART = gql`\n  mutation Cart(\n    $userId: Int!\n    $productId: Int!\n    $shopId: Int!\n    $quantity: Int!\n  ) {\n    Cart(\n      userId: $userId\n      productId: $productId\n      shopId: $shopId\n      quantity: $quantity\n    ) {\n      id\n      productId\n      userId\n      shopId\n      quantity\n    }\n  }\n`;\nexport const addToCart = async ({\n  productId,\n  shopId,\n  userId,\n  quantity = 1\n}) => {\n  try {\n    const {\n      data,\n      errors\n    } = await client.mutate({\n      mutation: ADD_TO_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: Number(quantity)\n      }\n    });\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n    if (!data?.Cart) {\n      throw new Error('No data returned from add to cart mutation');\n    }\n    return data.Cart;\n  } catch (error) {\n    console.error('Error adding to cart:', error.message);\n    throw error;\n  }\n};","map":{"version":3,"names":["client","gql","ADD_TO_CART","addToCart","productId","shopId","userId","quantity","data","errors","mutate","mutation","variables","Number","Error","map","e","message","join","Cart","error","console"],"sources":["C:/Users/varsh/OneDrive/Desktop/t11/t11/node_modules/shops-query/src/modules/cart/mutations/add.js"],"sourcesContent":["import client, { gql } from '../../../utils/apolloClient.js';\n\nexport const ADD_TO_CART = gql`\n  mutation Cart(\n    $userId: Int!\n    $productId: Int!\n    $shopId: Int!\n    $quantity: Int!\n  ) {\n    Cart(\n      userId: $userId\n      productId: $productId\n      shopId: $shopId\n      quantity: $quantity\n    ) {\n      id\n      productId\n      userId\n      shopId\n      quantity\n    }\n  }\n`;\n\nexport const addToCart = async ({ productId, shopId, userId, quantity = 1 }) => {\n  try {\n    const { data, errors } = await client.mutate({\n      mutation: ADD_TO_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: Number(quantity)\n      }\n    });\n\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n\n    if (!data?.Cart) {\n      throw new Error('No data returned from add to cart mutation');\n    }\n\n    return data.Cart;\n  } catch (error) {\n    console.error('Error adding to cart:', error.message);\n    throw error;\n  }\n};\n"],"mappings":"AAAA,OAAOA,MAAM,IAAIC,GAAG,QAAQ,gCAAgC;AAE5D,OAAO,MAAMC,WAAW,GAAGD,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,OAAO,MAAME,SAAS,GAAG,MAAAA,CAAO;EAAEC,SAAS;EAAEC,MAAM;EAAEC,MAAM;EAAEC,QAAQ,GAAG;AAAE,CAAC,KAAK;EAC9E,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAO,CAAC,GAAG,MAAMT,MAAM,CAACU,MAAM,CAAC;MAC3CC,QAAQ,EAAET,WAAW;MACrBU,SAAS,EAAE;QACTN,MAAM,EAAEO,MAAM,CAACP,MAAM,CAAC;QACtBF,SAAS,EAAES,MAAM,CAACT,SAAS,CAAC;QAC5BC,MAAM,EAAEQ,MAAM,CAACR,MAAM,CAAC;QACtBE,QAAQ,EAAEM,MAAM,CAACN,QAAQ;MAC3B;IACF,CAAC,CAAC;IAEF,IAAIE,MAAM,EAAE;MACV,MAAM,IAAIK,KAAK,CAACL,MAAM,CAACM,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxD;IAEA,IAAI,CAACV,IAAI,EAAEW,IAAI,EAAE;MACf,MAAM,IAAIL,KAAK,CAAC,4CAA4C,CAAC;IAC/D;IAEA,OAAON,IAAI,CAACW,IAAI;EAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACH,OAAO,CAAC;IACrD,MAAMG,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}