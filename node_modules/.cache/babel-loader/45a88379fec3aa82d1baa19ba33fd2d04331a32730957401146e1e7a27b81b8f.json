{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\varsh\\\\OneDrive\\\\Desktop\\\\t11\\\\t11\\\\src\\\\Home\\\\components\\\\sections\\\\CartSidebar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FiX, FiPlus, FiMinus, FiChevronLeft, FiChevronRight } from 'react-icons/fi';\nimport { fetchCart, addToCart, removeFromCart, updateCartQuantity } from 'shops-query/src/modules/cart/index.js';\nimport { getProductsController } from 'shops-query/src/modules/products/index.js';\nimport '../styles/CartSidebar.css';\n\n// Empty Cart Icon Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmptyCartIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"80\",\n  height: \"80\",\n  viewBox: \"0 0 80 80\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: \"empty-cart-icon\",\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"15\",\n    y: \"25\",\n    width: \"50\",\n    height: \"35\",\n    rx: \"4\",\n    stroke: \"#D1D5DB\",\n    strokeWidth: \"2\",\n    fill: \"none\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M25 25V20C25 16.6863 27.6863 14 31 14H49C52.3137 14 55 16.6863 55 20V25\",\n    stroke: \"#D1D5DB\",\n    strokeWidth: \"2\",\n    fill: \"none\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"30\",\n    cy: \"40\",\n    r: \"2\",\n    fill: \"#D1D5DB\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"50\",\n    cy: \"40\",\n    r: \"2\",\n    fill: \"#D1D5DB\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M35 45L45 35\",\n    stroke: \"#D1D5DB\",\n    strokeWidth: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M45 45L35 35\",\n    stroke: \"#D1D5DB\",\n    strokeWidth: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 3\n}, this);\n\n// Loading Skeleton for cart items\n_c = EmptyCartIcon;\nconst CartItemSkeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"cart-item-skeleton\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-item-image-skeleton\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-item-details-skeleton\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-item-name-skeleton\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-item-price-skeleton\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 3\n}, this);\n\n// Loading Skeleton for recommended products\n_c2 = CartItemSkeleton;\nconst RecommendedProductSkeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"recommended-product-skeleton\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommended-product-image-skeleton\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommended-product-name-skeleton\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommended-product-price-skeleton\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommended-product-button-skeleton\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 3\n}, this);\n_c3 = RecommendedProductSkeleton;\nconst CartSidebar = ({\n  isOpen,\n  onClose,\n  cartItemCount,\n  setCartItemCount\n}) => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const [recommendedProducts, setRecommendedProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [recommendedLoading, setRecommendedLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const recommendedScrollRef = useRef(null);\n\n  // Constants\n  const shopId = 512;\n  const userId = 198;\n  const imagePrefix = \"https://s3.ap-south-1.amazonaws.com/business.strackit.com/\";\n  const freeShippingThreshold = 530;\n\n  // Calculate cart totals\n  const subtotal = cartItems.reduce((total, item) => {\n    const price = parseFloat(item.prize || 0);\n    const discount = parseFloat(item.Discount || 0);\n    const finalPrice = price - discount;\n    return total + finalPrice * item.quantity;\n  }, 0);\n  const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);\n  const amountForFreeShipping = Math.max(0, freeShippingThreshold - subtotal);\n  const freeShippingProgress = Math.min(100, subtotal / freeShippingThreshold * 100);\n\n  // Fetch cart data\n  const fetchCartData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const cartData = await fetchCart(shopId, userId);\n      setCartItems(cartData || []);\n      setCartItemCount((cartData === null || cartData === void 0 ? void 0 : cartData.reduce((total, item) => total + item.quantity, 0)) || 0);\n    } catch (err) {\n      setError(err.message);\n      console.error('Error fetching cart:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch recommended products\n  const fetchRecommendedProducts = async () => {\n    try {\n      setRecommendedLoading(true);\n      const productsData = await getProductsController(shopId);\n      if (productsData && productsData.length > 0) {\n        // Filter published products and exclude items already in cart\n        const cartProductIds = cartItems.map(item => item.productId);\n        const availableProducts = productsData.filter(product => product && product.publish && !cartProductIds.includes(product.id)).slice(0, 8); // Limit to 8 recommendations\n\n        setRecommendedProducts(availableProducts);\n      }\n    } catch (err) {\n      console.error('Error fetching recommended products:', err);\n    } finally {\n      setRecommendedLoading(false);\n    }\n  };\n\n  // Update item quantity\n  const updateQuantity = async (productId, newQuantity) => {\n    if (newQuantity < 1) return;\n    try {\n      await updateCartQuantity({\n        userId,\n        productId,\n        shopId,\n        quantity: newQuantity\n      });\n\n      // Update local state\n      setCartItems(prevItems => prevItems.map(item => item.productId === productId ? {\n        ...item,\n        quantity: newQuantity\n      } : item));\n\n      // Update cart count\n      const newCartItems = cartItems.map(item => item.productId === productId ? {\n        ...item,\n        quantity: newQuantity\n      } : item);\n      setCartItemCount(newCartItems.reduce((total, item) => total + item.quantity, 0));\n    } catch (err) {\n      console.error('Error updating quantity:', err);\n    }\n  };\n\n  // Remove item from cart\n  const removeItem = async productId => {\n    try {\n      await removeFromCart({\n        userId,\n        productId,\n        shopId\n      });\n\n      // Update local state\n      setCartItems(prevItems => prevItems.filter(item => item.productId !== productId));\n\n      // Update cart count\n      const removedItem = cartItems.find(item => item.productId === productId);\n      if (removedItem) {\n        setCartItemCount(prev => prev - removedItem.quantity);\n      }\n    } catch (err) {\n      console.error('Error removing item:', err);\n    }\n  };\n\n  // Add recommended product to cart\n  const addToCartFunc = async product => {\n    try {\n      await addToCart({\n        productId: product.id,\n        shopId,\n        userId,\n        quantity: 1\n      });\n\n      // Refresh cart data\n      fetchCartData();\n      // Refresh recommendations (to exclude newly added item)\n      fetchRecommendedProducts();\n    } catch (err) {\n      console.error('Error adding to cart:', err);\n    }\n  };\n\n  // Scroll recommended products\n  const scrollRecommended = direction => {\n    if (recommendedScrollRef.current) {\n      const scrollAmount = 250;\n      const currentScrollLeft = recommendedScrollRef.current.scrollLeft;\n      const targetScrollLeft = direction === 'left' ? currentScrollLeft - scrollAmount : currentScrollLeft + scrollAmount;\n      recommendedScrollRef.current.scrollTo({\n        left: targetScrollLeft,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // Handle image error\n  const handleImageError = e => {\n    e.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik01MCA0MEMzNy41IDQwIDI3LjUgNTAgMjcuNSA2Mi41QzMwIDYwIDMzLjc1IDU4Ljc1IDM3LjUgNTguNzVDNDEuMjUgNTguNzUgNDUgNjAgNDcuNSA2Mi41QzQ4Ljc1IDYzLjc1IDUxLjI1IDYzLjc1IDUyLjUgNjIuNUM1NSA2MCA1OC43NSA1OC43NSA2Mi41IDU4Ljc1QzY2LjI1IDU4Ljc1IDcwIDYwIDcyLjUgNjIuNUM3Mi41IDUwIDYyLjUgNDAgNTAgNDBaIiBmaWxsPSIjRDFEMUQxIi8+Cjwvc3ZnPgo=';\n  };\n\n  // Fetch data when sidebar opens\n  useEffect(() => {\n    if (isOpen) {\n      fetchCartData();\n    }\n  }, [isOpen]);\n\n  // Fetch recommendations when cart changes\n  useEffect(() => {\n    if (isOpen && cartItems.length >= 0) {\n      fetchRecommendedProducts();\n    }\n  }, [isOpen, cartItems]);\n\n  // Handle overlay click\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-sidebar-overlay\",\n    onClick: handleOverlayClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"cart-title\",\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cart-close-btn\",\n          onClick: onClose,\n          \"aria-label\": \"Close cart\",\n          children: /*#__PURE__*/_jsxDEV(FiX, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), subtotal > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"free-shipping-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"free-shipping-progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\",\n              style: {\n                width: `${freeShippingProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-icon\",\n              children: freeShippingProgress >= 100 ? 'âœ“' : 'ðŸ“¦'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), amountForFreeShipping > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"shipping-text\",\n            children: [\"Buy \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"$\", amountForFreeShipping.toFixed(2), \" USD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 23\n            }, this), \" more to enjoy \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"FREE shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 94\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"shipping-text\",\n            children: [\"\\uD83C\\uDF89 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Congratulations! You qualify for FREE shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-content\",\n        children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-loading\",\n          children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(CartItemSkeleton, {}, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 35\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-error\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Error loading cart: \", error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchCartData,\n            className: \"retry-btn\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this) : cartItems.length === 0 ?\n        /*#__PURE__*/\n        /* Empty Cart */\n        _jsxDEV(\"div\", {\n          className: \"empty-cart\",\n          children: [/*#__PURE__*/_jsxDEV(EmptyCartIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"empty-cart-title\",\n            children: \"Your cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"empty-cart-description\",\n            children: \"You may check out all the available products and buy some in the shop.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"continue-shopping-btn\",\n            onClick: onClose,\n            children: \"CONTINUE SHOPPING\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        /* Cart Items */\n        _jsxDEV(\"div\", {\n          className: \"cart-items\",\n          children: cartItems.map(item => {\n            const price = parseFloat(item.prize || 0);\n            const discount = parseFloat(item.Discount || 0);\n            const finalPrice = price - discount;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item-image\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.featureImage ? `${imagePrefix}${item.featureImage}` : '',\n                  alt: item.name,\n                  onError: handleImageError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"cart-item-name\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-price\",\n                  children: discount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"discounted-price\",\n                      children: [\"$\", finalPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"original-price\",\n                      children: [\"$\", price.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"current-price\",\n                    children: [\"$\", price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"quantity-controls\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"quantity-btn\",\n                      onClick: () => updateQuantity(item.productId, item.quantity - 1),\n                      disabled: item.quantity <= 1,\n                      \"aria-label\": \"Decrease quantity\",\n                      children: /*#__PURE__*/_jsxDEV(FiMinus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"quantity-value\",\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"quantity-btn\",\n                      onClick: () => updateQuantity(item.productId, item.quantity + 1),\n                      \"aria-label\": \"Increase quantity\",\n                      children: /*#__PURE__*/_jsxDEV(FiPlus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"remove-btn\",\n                    onClick: () => removeItem(item.productId),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this)]\n            }, `${item.productId}-${item.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recommendations-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendations-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"recommendations-title\",\n              children: \"You may also like\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommendations-nav\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"nav-btn\",\n                onClick: () => scrollRecommended('left'),\n                \"aria-label\": \"Scroll left\",\n                children: /*#__PURE__*/_jsxDEV(FiChevronLeft, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"nav-btn\",\n                onClick: () => scrollRecommended('right'),\n                \"aria-label\": \"Scroll right\",\n                children: /*#__PURE__*/_jsxDEV(FiChevronRight, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendations-container\",\n            ref: recommendedScrollRef,\n            children: recommendedLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(RecommendedProductSkeleton, {}, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 44\n              }, this))\n            }, void 0, false) : recommendedProducts.map(product => {\n              const price = parseFloat(product.prize || 0);\n              const discount = parseFloat(product.Discount || 0);\n              const finalPrice = price - discount;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommended-product\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recommended-product-image\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: product.featureImage ? `${imagePrefix}${product.featureImage}` : '',\n                    alt: product.name,\n                    onError: handleImageError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"recommended-product-name\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recommended-product-price\",\n                  children: discount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"discounted-price\",\n                      children: [\"$\", finalPrice.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"original-price\",\n                      children: [\"$\", price.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"current-price\",\n                    children: [\"$\", price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"add-to-cart-btn\",\n                  onClick: () => addToCartFunc(product),\n                  children: \"+ Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 25\n                }, this)]\n              }, product.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"action-icon\",\n              children: \"\\uD83D\\uDCDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), \"Order Note\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"action-icon\",\n              children: \"\\uD83C\\uDF9F\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), \"Coupon\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"action-icon\",\n              children: \"\\uD83D\\uDE9A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), \"Shipping\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-total\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-line\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-label\",\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-amount\",\n              children: [\"$\", subtotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tax-note\",\n            children: [\"Taxes and \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shipping-link\",\n              children: \"shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 49\n            }, this), \" calculated at checkout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"checkout-btn\",\n            children: \"Check Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"view-cart-btn\",\n            onClick: onClose,\n            children: \"View Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this), cartItems.length === 0 && recommendedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-cart-recommendations\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recommendations-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"recommendations-title\",\n            children: \"You may also like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recommendations-nav\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-btn\",\n              onClick: () => scrollRecommended('left'),\n              \"aria-label\": \"Scroll left\",\n              children: /*#__PURE__*/_jsxDEV(FiChevronLeft, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"nav-btn\",\n              onClick: () => scrollRecommended('right'),\n              \"aria-label\": \"Scroll right\",\n              children: /*#__PURE__*/_jsxDEV(FiChevronRight, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recommendations-container\",\n          ref: recommendedScrollRef,\n          children: recommendedLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(RecommendedProductSkeleton, {}, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 42\n            }, this))\n          }, void 0, false) : recommendedProducts.map(product => {\n            const price = parseFloat(product.prize || 0);\n            const discount = parseFloat(product.Discount || 0);\n            const finalPrice = price - discount;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommended-product\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommended-product-image\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.featureImage ? `${imagePrefix}${product.featureImage}` : '',\n                  alt: product.name,\n                  onError: handleImageError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"recommended-product-name\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"recommended-product-price\",\n                children: discount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"discounted-price\",\n                    children: [\"$\", finalPrice.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"original-price\",\n                    children: [\"$\", price.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"current-price\",\n                  children: [\"$\", price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-to-cart-btn\",\n                onClick: () => addToCartFunc(product),\n                children: \"+ Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 23\n              }, this)]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(CartSidebar, \"62qN8xgHiL3uoHDpdUpSd84nmGQ=\");\n_c4 = CartSidebar;\nexport default CartSidebar;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"EmptyCartIcon\");\n$RefreshReg$(_c2, \"CartItemSkeleton\");\n$RefreshReg$(_c3, \"RecommendedProductSkeleton\");\n$RefreshReg$(_c4, \"CartSidebar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","FiX","FiPlus","FiMinus","FiChevronLeft","FiChevronRight","fetchCart","addToCart","removeFromCart","updateCartQuantity","getProductsController","jsxDEV","_jsxDEV","Fragment","_Fragment","EmptyCartIcon","width","height","viewBox","fill","xmlns","className","children","x","y","rx","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","cx","cy","r","_c","CartItemSkeleton","_c2","RecommendedProductSkeleton","_c3","CartSidebar","isOpen","onClose","cartItemCount","setCartItemCount","_s","cartItems","setCartItems","recommendedProducts","setRecommendedProducts","loading","setLoading","recommendedLoading","setRecommendedLoading","error","setError","recommendedScrollRef","shopId","userId","imagePrefix","freeShippingThreshold","subtotal","reduce","total","item","price","parseFloat","prize","discount","Discount","finalPrice","quantity","totalItems","amountForFreeShipping","Math","max","freeShippingProgress","min","fetchCartData","cartData","err","message","console","fetchRecommendedProducts","productsData","length","cartProductIds","map","productId","availableProducts","filter","product","publish","includes","id","slice","updateQuantity","newQuantity","prevItems","newCartItems","removeItem","removedItem","find","prev","addToCartFunc","scrollRecommended","direction","current","scrollAmount","currentScrollLeft","scrollLeft","targetScrollLeft","scrollTo","left","behavior","handleImageError","e","target","src","handleOverlayClick","currentTarget","onClick","size","style","toFixed","i","featureImage","alt","name","onError","disabled","ref","_c4","$RefreshReg$"],"sources":["C:/Users/varsh/OneDrive/Desktop/t11/t11/src/Home/components/sections/CartSidebar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FiX, FiPlus, FiMinus, FiChevronLeft, FiChevronRight } from 'react-icons/fi';\r\nimport { fetchCart, addToCart, removeFromCart, updateCartQuantity } from 'shops-query/src/modules/cart/index.js';\r\nimport { getProductsController } from 'shops-query/src/modules/products/index.js';\r\nimport '../styles/CartSidebar.css';\r\n\r\n// Empty Cart Icon Component\r\nconst EmptyCartIcon = () => (\r\n  <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"empty-cart-icon\">\r\n    <rect x=\"15\" y=\"25\" width=\"50\" height=\"35\" rx=\"4\" stroke=\"#D1D5DB\" strokeWidth=\"2\" fill=\"none\"/>\r\n    <path d=\"M25 25V20C25 16.6863 27.6863 14 31 14H49C52.3137 14 55 16.6863 55 20V25\" stroke=\"#D1D5DB\" strokeWidth=\"2\" fill=\"none\"/>\r\n    <circle cx=\"30\" cy=\"40\" r=\"2\" fill=\"#D1D5DB\"/>\r\n    <circle cx=\"50\" cy=\"40\" r=\"2\" fill=\"#D1D5DB\"/>\r\n    <path d=\"M35 45L45 35\" stroke=\"#D1D5DB\" strokeWidth=\"2\"/>\r\n    <path d=\"M45 45L35 35\" stroke=\"#D1D5DB\" strokeWidth=\"2\"/>\r\n  </svg>\r\n);\r\n\r\n// Loading Skeleton for cart items\r\nconst CartItemSkeleton = () => (\r\n  <div className=\"cart-item-skeleton\">\r\n    <div className=\"cart-item-image-skeleton\"></div>\r\n    <div className=\"cart-item-details-skeleton\">\r\n      <div className=\"cart-item-name-skeleton\"></div>\r\n      <div className=\"cart-item-price-skeleton\"></div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Loading Skeleton for recommended products\r\nconst RecommendedProductSkeleton = () => (\r\n  <div className=\"recommended-product-skeleton\">\r\n    <div className=\"recommended-product-image-skeleton\"></div>\r\n    <div className=\"recommended-product-name-skeleton\"></div>\r\n    <div className=\"recommended-product-price-skeleton\"></div>\r\n    <div className=\"recommended-product-button-skeleton\"></div>\r\n  </div>\r\n);\r\n\r\nconst CartSidebar = ({ isOpen, onClose, cartItemCount, setCartItemCount }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [recommendedProducts, setRecommendedProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recommendedLoading, setRecommendedLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const recommendedScrollRef = useRef(null);\r\n  \r\n  // Constants\r\n  const shopId = 512;\r\n  const userId = 198;\r\n  const imagePrefix = \"https://s3.ap-south-1.amazonaws.com/business.strackit.com/\";\r\n  const freeShippingThreshold = 530;\r\n  \r\n  // Calculate cart totals\r\n  const subtotal = cartItems.reduce((total, item) => {\r\n    const price = parseFloat(item.prize || 0);\r\n    const discount = parseFloat(item.Discount || 0);\r\n    const finalPrice = price - discount;\r\n    return total + (finalPrice * item.quantity);\r\n  }, 0);\r\n  \r\n  const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);\r\n  const amountForFreeShipping = Math.max(0, freeShippingThreshold - subtotal);\r\n  const freeShippingProgress = Math.min(100, (subtotal / freeShippingThreshold) * 100);\r\n\r\n  // Fetch cart data\r\n  const fetchCartData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const cartData = await fetchCart(shopId, userId);\r\n      setCartItems(cartData || []);\r\n      setCartItemCount(cartData?.reduce((total, item) => total + item.quantity, 0) || 0);\r\n    } catch (err) {\r\n      setError(err.message);\r\n      console.error('Error fetching cart:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch recommended products\r\n  const fetchRecommendedProducts = async () => {\r\n    try {\r\n      setRecommendedLoading(true);\r\n      const productsData = await getProductsController(shopId);\r\n      \r\n      if (productsData && productsData.length > 0) {\r\n        // Filter published products and exclude items already in cart\r\n        const cartProductIds = cartItems.map(item => item.productId);\r\n        const availableProducts = productsData\r\n          .filter(product => \r\n            product && \r\n            product.publish && \r\n            !cartProductIds.includes(product.id)\r\n          )\r\n          .slice(0, 8); // Limit to 8 recommendations\r\n        \r\n        setRecommendedProducts(availableProducts);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching recommended products:', err);\r\n    } finally {\r\n      setRecommendedLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update item quantity\r\n  const updateQuantity = async (productId, newQuantity) => {\r\n    if (newQuantity < 1) return;\r\n    \r\n    try {\r\n      await updateCartQuantity({\r\n        userId,\r\n        productId,\r\n        shopId,\r\n        quantity: newQuantity\r\n      });\r\n      \r\n      // Update local state\r\n      setCartItems(prevItems =>\r\n        prevItems.map(item =>\r\n          item.productId === productId\r\n            ? { ...item, quantity: newQuantity }\r\n            : item\r\n        )\r\n      );\r\n      \r\n      // Update cart count\r\n      const newCartItems = cartItems.map(item =>\r\n        item.productId === productId ? { ...item, quantity: newQuantity } : item\r\n      );\r\n      setCartItemCount(newCartItems.reduce((total, item) => total + item.quantity, 0));\r\n    } catch (err) {\r\n      console.error('Error updating quantity:', err);\r\n    }\r\n  };\r\n\r\n  // Remove item from cart\r\n  const removeItem = async (productId) => {\r\n    try {\r\n      await removeFromCart({\r\n        userId,\r\n        productId,\r\n        shopId\r\n      });\r\n      \r\n      // Update local state\r\n      setCartItems(prevItems =>\r\n        prevItems.filter(item => item.productId !== productId)\r\n      );\r\n      \r\n      // Update cart count\r\n      const removedItem = cartItems.find(item => item.productId === productId);\r\n      if (removedItem) {\r\n        setCartItemCount(prev => prev - removedItem.quantity);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error removing item:', err);\r\n    }\r\n  };\r\n\r\n  // Add recommended product to cart\r\n  const addToCartFunc = async (product) => {\r\n    try {\r\n      await addToCart({\r\n        productId: product.id,\r\n        shopId,\r\n        userId,\r\n        quantity: 1\r\n      });\r\n      \r\n      // Refresh cart data\r\n      fetchCartData();\r\n      // Refresh recommendations (to exclude newly added item)\r\n      fetchRecommendedProducts();\r\n    } catch (err) {\r\n      console.error('Error adding to cart:', err);\r\n    }\r\n  };\r\n\r\n  // Scroll recommended products\r\n  const scrollRecommended = (direction) => {\r\n    if (recommendedScrollRef.current) {\r\n      const scrollAmount = 250;\r\n      const currentScrollLeft = recommendedScrollRef.current.scrollLeft;\r\n      const targetScrollLeft = direction === 'left' \r\n        ? currentScrollLeft - scrollAmount \r\n        : currentScrollLeft + scrollAmount;\r\n      \r\n      recommendedScrollRef.current.scrollTo({\r\n        left: targetScrollLeft,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle image error\r\n  const handleImageError = (e) => {\r\n    e.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik01MCA0MEMzNy41IDQwIDI3LjUgNTAgMjcuNSA2Mi41QzMwIDYwIDMzLjc1IDU4Ljc1IDM3LjUgNTguNzVDNDEuMjUgNTguNzUgNDUgNjAgNDcuNSA2Mi41QzQ4Ljc1IDYzLjc1IDUxLjI1IDYzLjc1IDUyLjUgNjIuNUM1NSA2MCA1OC43NSA1OC43NSA2Mi41IDU4Ljc1QzY2LjI1IDU4Ljc1IDcwIDYwIDcyLjUgNjIuNUM3Mi41IDUwIDYyLjUgNDAgNTAgNDBaIiBmaWxsPSIjRDFEMUQxIi8+Cjwvc3ZnPgo=';\r\n  };\r\n\r\n  // Fetch data when sidebar opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      fetchCartData();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Fetch recommendations when cart changes\r\n  useEffect(() => {\r\n    if (isOpen && cartItems.length >= 0) {\r\n      fetchRecommendedProducts();\r\n    }\r\n  }, [isOpen, cartItems]);\r\n\r\n  // Handle overlay click\r\n  const handleOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"cart-sidebar-overlay\" onClick={handleOverlayClick}>\r\n      <div className=\"cart-sidebar\">\r\n        {/* Header */}\r\n        <div className=\"cart-header\">\r\n          <h2 className=\"cart-title\">Shopping Cart</h2>\r\n          <button className=\"cart-close-btn\" onClick={onClose} aria-label=\"Close cart\">\r\n            <FiX size={24} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Free Shipping Progress */}\r\n        {subtotal > 0 && (\r\n          <div className=\"free-shipping-section\">\r\n            <div className=\"free-shipping-progress\">\r\n              <div className=\"progress-bar\">\r\n                <div \r\n                  className=\"progress-fill\" \r\n                  style={{ width: `${freeShippingProgress}%` }}\r\n                ></div>\r\n                <div className=\"progress-icon\">\r\n                  {freeShippingProgress >= 100 ? 'âœ“' : 'ðŸ“¦'}\r\n                </div>\r\n              </div>\r\n              {amountForFreeShipping > 0 ? (\r\n                <p className=\"shipping-text\">\r\n                  Buy <strong>${amountForFreeShipping.toFixed(2)} USD</strong> more to enjoy <strong>FREE shipping</strong>\r\n                </p>\r\n              ) : (\r\n                <p className=\"shipping-text\">\r\n                  ðŸŽ‰ <strong>Congratulations! You qualify for FREE shipping</strong>\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Cart Content */}\r\n        <div className=\"cart-content\">\r\n          {loading ? (\r\n            <div className=\"cart-loading\">\r\n              {[1, 2, 3].map(i => <CartItemSkeleton key={i} />)}\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"cart-error\">\r\n              <p>Error loading cart: {error}</p>\r\n              <button onClick={fetchCartData} className=\"retry-btn\">Retry</button>\r\n            </div>\r\n          ) : cartItems.length === 0 ? (\r\n            /* Empty Cart */\r\n            <div className=\"empty-cart\">\r\n              <EmptyCartIcon />\r\n              <h3 className=\"empty-cart-title\">Your cart is empty</h3>\r\n              <p className=\"empty-cart-description\">\r\n                You may check out all the available products and buy some in the shop.\r\n              </p>\r\n              <button className=\"continue-shopping-btn\" onClick={onClose}>\r\n                CONTINUE SHOPPING\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            /* Cart Items */\r\n            <div className=\"cart-items\">\r\n              {cartItems.map((item) => {\r\n                const price = parseFloat(item.prize || 0);\r\n                const discount = parseFloat(item.Discount || 0);\r\n                const finalPrice = price - discount;\r\n                \r\n                return (\r\n                  <div key={`${item.productId}-${item.id}`} className=\"cart-item\">\r\n                    <div className=\"cart-item-image\">\r\n                      <img \r\n                        src={item.featureImage ? `${imagePrefix}${item.featureImage}` : ''} \r\n                        alt={item.name}\r\n                        onError={handleImageError}\r\n                      />\r\n                    </div>\r\n                    <div className=\"cart-item-details\">\r\n                      <h4 className=\"cart-item-name\">{item.name}</h4>\r\n                      <div className=\"cart-item-price\">\r\n                        {discount > 0 ? (\r\n                          <>\r\n                            <span className=\"discounted-price\">${finalPrice.toFixed(2)}</span>\r\n                            <span className=\"original-price\">${price.toFixed(2)}</span>\r\n                          </>\r\n                        ) : (\r\n                          <span className=\"current-price\">${price.toFixed(2)}</span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"cart-item-controls\">\r\n                        <div className=\"quantity-controls\">\r\n                          <button \r\n                            className=\"quantity-btn\"\r\n                            onClick={() => updateQuantity(item.productId, item.quantity - 1)}\r\n                            disabled={item.quantity <= 1}\r\n                            aria-label=\"Decrease quantity\"\r\n                          >\r\n                            <FiMinus size={16} />\r\n                          </button>\r\n                          <span className=\"quantity-value\">{item.quantity}</span>\r\n                          <button \r\n                            className=\"quantity-btn\"\r\n                            onClick={() => updateQuantity(item.productId, item.quantity + 1)}\r\n                            aria-label=\"Increase quantity\"\r\n                          >\r\n                            <FiPlus size={16} />\r\n                          </button>\r\n                        </div>\r\n                        <button \r\n                          className=\"remove-btn\"\r\n                          onClick={() => removeItem(item.productId)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* Recommended Products Section */}\r\n          {cartItems.length > 0 && (\r\n            <div className=\"recommendations-section\">\r\n              <div className=\"recommendations-header\">\r\n                <h3 className=\"recommendations-title\">You may also like</h3>\r\n                <div className=\"recommendations-nav\">\r\n                  <button \r\n                    className=\"nav-btn\"\r\n                    onClick={() => scrollRecommended('left')}\r\n                    aria-label=\"Scroll left\"\r\n                  >\r\n                    <FiChevronLeft size={20} />\r\n                  </button>\r\n                  <button \r\n                    className=\"nav-btn\"\r\n                    onClick={() => scrollRecommended('right')}\r\n                    aria-label=\"Scroll right\"\r\n                  >\r\n                    <FiChevronRight size={20} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"recommendations-container\" ref={recommendedScrollRef}>\r\n                {recommendedLoading ? (\r\n                  <>\r\n                    {[1, 2, 3, 4].map(i => <RecommendedProductSkeleton key={i} />)}\r\n                  </>\r\n                ) : (\r\n                  recommendedProducts.map((product) => {\r\n                    const price = parseFloat(product.prize || 0);\r\n                    const discount = parseFloat(product.Discount || 0);\r\n                    const finalPrice = price - discount;\r\n                    \r\n                    return (\r\n                      <div key={product.id} className=\"recommended-product\">\r\n                        <div className=\"recommended-product-image\">\r\n                          <img \r\n                            src={product.featureImage ? `${imagePrefix}${product.featureImage}` : ''} \r\n                            alt={product.name}\r\n                            onError={handleImageError}\r\n                          />\r\n                        </div>\r\n                        <h4 className=\"recommended-product-name\">{product.name}</h4>\r\n                        <div className=\"recommended-product-price\">\r\n                          {discount > 0 ? (\r\n                            <>\r\n                              <span className=\"discounted-price\">${finalPrice.toFixed(2)}</span>\r\n                              <span className=\"original-price\">${price.toFixed(2)}</span>\r\n                            </>\r\n                          ) : (\r\n                            <span className=\"current-price\">${price.toFixed(2)}</span>\r\n                          )}\r\n                        </div>\r\n                        <button \r\n                          className=\"add-to-cart-btn\"\r\n                          onClick={() => addToCartFunc(product)}\r\n                        >\r\n                          + Add to Cart\r\n                        </button>\r\n                      </div>\r\n                    );\r\n                  })\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Cart Footer */}\r\n        {cartItems.length > 0 && (\r\n          <div className=\"cart-footer\">\r\n            <div className=\"cart-actions\">\r\n              <button className=\"action-btn\">\r\n                <span className=\"action-icon\">ðŸ“</span>\r\n                Order Note\r\n              </button>\r\n              <button className=\"action-btn\">\r\n                <span className=\"action-icon\">ðŸŽŸï¸</span>\r\n                Coupon\r\n              </button>\r\n              <button className=\"action-btn\">\r\n                <span className=\"action-icon\">ðŸšš</span>\r\n                Shipping\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"cart-total\">\r\n              <div className=\"total-line\">\r\n                <span className=\"total-label\">Total</span>\r\n                <span className=\"total-amount\">${subtotal.toFixed(2)}</span>\r\n              </div>\r\n              <p className=\"tax-note\">Taxes and <span className=\"shipping-link\">shipping</span> calculated at checkout</p>\r\n            </div>\r\n            \r\n            <div className=\"cart-buttons\">\r\n              <button className=\"checkout-btn\">Check Out</button>\r\n              <button className=\"view-cart-btn\" onClick={onClose}>View Cart</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Empty cart footer with recommendations */}\r\n        {cartItems.length === 0 && recommendedProducts.length > 0 && (\r\n          <div className=\"empty-cart-recommendations\">\r\n            <div className=\"recommendations-header\">\r\n              <h3 className=\"recommendations-title\">You may also like</h3>\r\n              <div className=\"recommendations-nav\">\r\n                <button \r\n                  className=\"nav-btn\"\r\n                  onClick={() => scrollRecommended('left')}\r\n                  aria-label=\"Scroll left\"\r\n                >\r\n                  <FiChevronLeft size={20} />\r\n                </button>\r\n                <button \r\n                  className=\"nav-btn\"\r\n                  onClick={() => scrollRecommended('right')}\r\n                  aria-label=\"Scroll right\"\r\n                >\r\n                  <FiChevronRight size={20} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"recommendations-container\" ref={recommendedScrollRef}>\r\n              {recommendedLoading ? (\r\n                <>\r\n                  {[1, 2, 3, 4].map(i => <RecommendedProductSkeleton key={i} />)}\r\n                </>\r\n              ) : (\r\n                recommendedProducts.map((product) => {\r\n                  const price = parseFloat(product.prize || 0);\r\n                  const discount = parseFloat(product.Discount || 0);\r\n                  const finalPrice = price - discount;\r\n                  \r\n                  return (\r\n                    <div key={product.id} className=\"recommended-product\">\r\n                      <div className=\"recommended-product-image\">\r\n                        <img \r\n                          src={product.featureImage ? `${imagePrefix}${product.featureImage}` : ''} \r\n                          alt={product.name}\r\n                          onError={handleImageError}\r\n                        />\r\n                      </div>\r\n                      <h4 className=\"recommended-product-name\">{product.name}</h4>\r\n                      <div className=\"recommended-product-price\">\r\n                        {discount > 0 ? (\r\n                          <>\r\n                            <span className=\"discounted-price\">${finalPrice.toFixed(2)}</span>\r\n                            <span className=\"original-price\">${price.toFixed(2)}</span>\r\n                          </>\r\n                        ) : (\r\n                          <span className=\"current-price\">${price.toFixed(2)}</span>\r\n                        )}\r\n                      </div>\r\n                      <button \r\n                        className=\"add-to-cart-btn\"\r\n                        onClick={() => addToCartFunc(product)}\r\n                      >\r\n                        + Add to Cart\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartSidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}