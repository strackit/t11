{"ast":null,"code":"import client, { gql } from '../../../utils/apolloClient.js';\nexport const UPDATE_OR_DELETE_CART = gql`\n  mutation Cart(\n    $userId: Int!\n    $productId: Int!\n    $shopId: Int!\n    $quantity: Int\n    $update: Boolean\n    $delete: Boolean\n  ) {\n    Cart(\n      userId: $userId\n      productId: $productId\n      shopId: $shopId\n      quantity: $quantity\n      Update: $update\n      Delete: $delete\n    ) {\n      id\n      productId\n      userId\n      shopId\n      quantity\n    }\n  }\n`;\nexport const updateCartItem = async ({\n  userId,\n  productId,\n  shopId,\n  quantity\n}) => {\n  try {\n    const {\n      data,\n      errors\n    } = await client.mutate({\n      mutation: UPDATE_OR_DELETE_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: Number(quantity),\n        update: true,\n        delete: null\n      }\n    });\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n    return data?.Cart || null;\n  } catch (error) {\n    console.error('Error updating cart item:', error.message);\n    throw error;\n  }\n};\nexport const removeFromCart = async ({\n  userId,\n  productId,\n  shopId\n}) => {\n  try {\n    const {\n      data,\n      errors\n    } = await client.mutate({\n      mutation: UPDATE_OR_DELETE_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: null,\n        update: null,\n        delete: true\n      }\n    });\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n    return data?.Cart || null;\n  } catch (error) {\n    console.error('Error removing from cart:', error.message);\n    throw error;\n  }\n};","map":{"version":3,"names":["client","gql","UPDATE_OR_DELETE_CART","updateCartItem","userId","productId","shopId","quantity","data","errors","mutate","mutation","variables","Number","update","delete","Error","map","e","message","join","Cart","error","console","removeFromCart"],"sources":["C:/Users/varsh/OneDrive/Desktop/t11/t11/node_modules/shops-query/src/modules/cart/mutations/remove.js"],"sourcesContent":["import client, { gql } from '../../../utils/apolloClient.js';\n\nexport const UPDATE_OR_DELETE_CART = gql`\n  mutation Cart(\n    $userId: Int!\n    $productId: Int!\n    $shopId: Int!\n    $quantity: Int\n    $update: Boolean\n    $delete: Boolean\n  ) {\n    Cart(\n      userId: $userId\n      productId: $productId\n      shopId: $shopId\n      quantity: $quantity\n      Update: $update\n      Delete: $delete\n    ) {\n      id\n      productId\n      userId\n      shopId\n      quantity\n    }\n  }\n`;\n\nexport const updateCartItem = async ({ userId, productId, shopId, quantity }) => {\n  try {\n    const { data, errors } = await client.mutate({\n      mutation: UPDATE_OR_DELETE_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: Number(quantity),\n        update: true,\n        delete: null\n      }\n    });\n\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n\n    return data?.Cart || null;\n  } catch (error) {\n    console.error('Error updating cart item:', error.message);\n    throw error;\n  }\n};\n\nexport const removeFromCart = async ({ userId, productId, shopId }) => {\n  try {\n    const { data, errors } = await client.mutate({\n      mutation: UPDATE_OR_DELETE_CART,\n      variables: {\n        userId: Number(userId),\n        productId: Number(productId),\n        shopId: Number(shopId),\n        quantity: null,\n        update: null,\n        delete: true\n      }\n    });\n\n    if (errors) {\n      throw new Error(errors.map(e => e.message).join(', '));\n    }\n\n    return data?.Cart || null;\n  } catch (error) {\n    console.error('Error removing from cart:', error.message);\n    throw error;\n  }\n};\n"],"mappings":"AAAA,OAAOA,MAAM,IAAIC,GAAG,QAAQ,gCAAgC;AAE5D,OAAO,MAAMC,qBAAqB,GAAGD,GAAG;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAO;EAAEC,MAAM;EAAEC,SAAS;EAAEC,MAAM;EAAEC;AAAS,CAAC,KAAK;EAC/E,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAO,CAAC,GAAG,MAAMT,MAAM,CAACU,MAAM,CAAC;MAC3CC,QAAQ,EAAET,qBAAqB;MAC/BU,SAAS,EAAE;QACTR,MAAM,EAAES,MAAM,CAACT,MAAM,CAAC;QACtBC,SAAS,EAAEQ,MAAM,CAACR,SAAS,CAAC;QAC5BC,MAAM,EAAEO,MAAM,CAACP,MAAM,CAAC;QACtBC,QAAQ,EAAEM,MAAM,CAACN,QAAQ,CAAC;QAC1BO,MAAM,EAAE,IAAI;QACZC,MAAM,EAAE;MACV;IACF,CAAC,CAAC;IAEF,IAAIN,MAAM,EAAE;MACV,MAAM,IAAIO,KAAK,CAACP,MAAM,CAACQ,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxD;IAEA,OAAOZ,IAAI,EAAEa,IAAI,IAAI,IAAI;EAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAACH,OAAO,CAAC;IACzD,MAAMG,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAO;EAAEpB,MAAM;EAAEC,SAAS;EAAEC;AAAO,CAAC,KAAK;EACrE,IAAI;IACF,MAAM;MAAEE,IAAI;MAAEC;IAAO,CAAC,GAAG,MAAMT,MAAM,CAACU,MAAM,CAAC;MAC3CC,QAAQ,EAAET,qBAAqB;MAC/BU,SAAS,EAAE;QACTR,MAAM,EAAES,MAAM,CAACT,MAAM,CAAC;QACtBC,SAAS,EAAEQ,MAAM,CAACR,SAAS,CAAC;QAC5BC,MAAM,EAAEO,MAAM,CAACP,MAAM,CAAC;QACtBC,QAAQ,EAAE,IAAI;QACdO,MAAM,EAAE,IAAI;QACZC,MAAM,EAAE;MACV;IACF,CAAC,CAAC;IAEF,IAAIN,MAAM,EAAE;MACV,MAAM,IAAIO,KAAK,CAACP,MAAM,CAACQ,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxD;IAEA,OAAOZ,IAAI,EAAEa,IAAI,IAAI,IAAI;EAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAACH,OAAO,CAAC;IACzD,MAAMG,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}